
<!DOCTYPE HTML>
<html>
<head>
	<title>pixi.js example 13 - Graphics</title>
	<style>
		body {
			margin: 0;
			padding: 0;
			background-color: #000000;
		}
	</style>
	
	<script src="bin/pixi.js"></script>
	<script src="js/Stats.js"></script>
	
</head>
<body>
	<script>
	

//Mr Doob's Stats.js:
var stats = new Stats();

	// create an new instance of a pixi stage
	var stage = new PIXI.Stage(0xFFFFFF, true);
	
	stage.setInteractive(true);

	// create a renderer instance
	//var renderer = new PIXI.CanvasRenderer(800, 600);//PIXI.autoDetectRenderer(800, 600);
	var renderer = PIXI.autoDetectRenderer(620, 380);
	
	// set the canvas width and height to fill the screen
	//renderer.view.style.width = window.innerWidth + "px";
	//renderer.view.style.height = window.innerHeight + "px";
	renderer.view.style.display = "block";
	 
	// add render view to DOM
	document.body.appendChild(renderer.view);
	
	var graphics = new PIXI.Graphics();
	
	
	graphics.lineStyle(10, 0xb51d1d, 1);
	

		
	stage.addChild(graphics);
	
	// lets create moving shape
	var thing = new PIXI.Graphics();
	thing.lineStyle(15, 0xb51d1d, 1);
	stage.addChild(thing);
	
	var count = 0;
	var path = [];
    var lastx;
    var lasty;

//Mr. Doob's Stats.js
stats.domElement.style.position = 'absolute';
stats.domElement.style.left = '0px';
stats.domElement.style.top = '0px';
document.body.appendChild( stats.domElement );
	
	requestAnimFrame(animate);

	function animate() {
    
    stats.begin();//Mr Doob's Stats.js
		mouse = stage.getMousePosition();
        if(Math.abs(lastx-mouse.x)>1 || Math.abs(lasty-mouse.y)>1){
            path.push(mouse.x);
            path.push(mouse.y);
            //console.log(mouse.x , ' ' , mouse.y);
        }
        lastx = mouse.x;
        lasty = mouse.y;
		
		//thing.clear();
		//thing.lineStyle(15, 0xb51d1d, 1);
		
		thing.drawPath(path);
        
	    renderer.render(stage);
	    requestAnimFrame( animate );
        
    stats.end();//Mr Doob's Stats.js
	}



	</script>

	</body>
</html>
